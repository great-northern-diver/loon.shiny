<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to loon.shiny • loon.shiny</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to loon.shiny">
<meta property="og:description" content="loon.shiny">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">loon.shiny</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction.html">Introduction to loon.shiny</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="introduction_files/header-attrs-2.8/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to loon.shiny</h1>
                        <h4 class="author">Zehao Xu</h4>
            
            <h4 class="date">2021-07-05</h4>
      
      
      <div class="hidden name"><code>introduction.Rmd</code></div>

    </div>

    
    
<div id="overview-of-the-three-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#overview-of-the-three-packages" class="anchor"></a>Overview of the three packages</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">loon.shiny</span><span class="op">)</span></code></pre></div>
<div id="shiny" class="section level3">
<h3 class="hasAnchor">
<a href="#shiny" class="anchor"></a><code>Shiny</code>
</h3>
<p>The <a href="https://shiny.rstudio.com/"><code>shiny</code></a> <code>R</code> package simplifies the creation of interactive analysis web pages.</p>
<p>A <code>shiny</code> application is composed of two components, a <code>ui</code> (user interface) and a <code>server</code> function. This <code>ui</code>/<code>server</code> pair are passed as arguments to the <code>shinyApp</code> function that creates a <code>shiny</code> app. The <code>ui</code> (user interface) creates the layout of the app, guiding its users about the analysis by determining the objects that appear and how they can be manipulated on such application. The <code>server</code> function <em>reacts</em> to modifications on the <code>ui</code>, defining the logic of the app. As the user interacts with the page, the <code>server</code> function reacts to make changes in the display.</p>
</div>
<div id="loon" class="section level3">
<h3 class="hasAnchor">
<a href="#loon" class="anchor"></a><code>Loon</code>
</h3>
<p>The <a href="https://great-northern-diver.github.io/loon/"><code>loon</code></a> <code>R</code> package provides an interactive visualization toolkit for unconstrained, unscripted, and open-ended data exploration. It is intended for data analysts themselves.</p>
<p>An important part of <code>loon</code>’s interactivity is the <strong>loon inspector</strong> which can can make changes specialized to different <code>loon</code> plots. Typically, the <code>loon</code> inspector has a single instance. The inspector will adapt its display to whichever of the different base <code>loon</code> graphics (scatterplots, graphs, histograms, serial axe plots, etc) is its focus (e.g., the graphic display that last received a mouse or window focus event.</p>
<p>For <code>loon</code> users, it is a challenge to provide a <em>curated</em> analysis that is still somewhat interactive. Snapshots of different steps of the analysis are easily accommodated via <code>RMarkdown</code>, etc. but interaction is not.</p>
</div>
<div id="loon-shiny" class="section level3">
<h3 class="hasAnchor">
<a href="#loon-shiny" class="anchor"></a><code>Loon.shiny</code>
</h3>
<p><code>Loon.shiny</code> transforms <code>loon</code> widgets to appear (with their inspector) in a <code>shiny</code> web app.</p>
<ul>
<li><p><code>loon</code> has a powerful inspector involving almost many of the components considered essential for interaction on each graphic. With <code>loon.shiny</code>, this powerful interface can be inserted into a <code>shiny</code> app to provide a multitude of interactions at once.</p></li>
<li><p><code>loon.shiny</code> provides analysts who explore data in <code>loon</code> the ability to incorporate selected interactive components of that analysis in <code>Rmarkdown</code>. In addition to extending the possibilities for reproducible research, this can further empower the viewer of that research to explore other possibilities within the document itself.</p></li>
</ul>
<p><strong>The idea behind the implementation:</strong> In <code>loon.shiny</code>, <code>loon</code> widgets are transformed to static <code>loonGrob</code>s created by the <code>R</code> base <code>grid</code> package to provide low-level, general purpose graphics functions. Note that, a <code>loonGrob</code> contains all elements of a <code>loon</code> plot even some not drawn contents, i.e. deactivated elements, hidden layers. All these essential contents are stored inside an empty <code>grob</code> possessing the argument values necessary to draw them. When the <code>server</code> function is fired, the interactivity is realized by editing and redisplaying these <code>loonGrob</code>s.</p>
</div>
</div>
<div id="basic-usage" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-usage" class="anchor"></a>Basic Usage</h2>
<p>Consider the classic <code>iris</code> data set.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">loon.shiny</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org">magrittr</a></span><span class="op">)</span>
<span class="co"># Loon scatterplot</span>
<span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">iris</span>,
  <span class="fu">l_plot</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Petal.Width</span>, 
         y <span class="op">=</span> <span class="va">Sepal.Width</span>, 
         color <span class="op">=</span> <span class="va">Species</span><span class="op">)</span>
<span class="op">)</span>
<span class="co"># Modify glyph to radial axes glyph.</span>
<span class="va">p</span><span class="op">[</span><span class="st">'glyph'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">l_glyph_add_serialaxes</span><span class="op">(</span><span class="va">p</span>, data <span class="op">=</span> <span class="va">iris</span><span class="op">)</span>
<span class="co"># Fit a linear regression on each group (species)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">s</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># sub data set</span>
  <span class="va">subdata</span> <span class="op">&lt;-</span> <span class="va">iris</span> <span class="op">%&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Species</span> <span class="op">==</span> <span class="va">s</span><span class="op">)</span>
  <span class="co"># fitted line</span>
  <span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Sepal.Width</span> <span class="op">~</span> <span class="va">Petal.Width</span>, data <span class="op">=</span> <span class="va">subdata</span><span class="op">)</span>
  <span class="va">x</span> <span class="op">&lt;-</span> <span class="va">subdata</span><span class="op">$</span><span class="va">Petal.Width</span>
  <span class="va">pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">fit</span>, interval <span class="op">=</span> <span class="st">"confidence"</span><span class="op">)</span>
  <span class="va">ord</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
  <span class="co"># Loon pipe model (connected with %T&gt;%)</span>
  <span class="co"># Check ```help(`%T&gt;%`)``` for more details</span>
  <span class="va">p</span> <span class="op">&lt;-</span> <span class="va">p</span> <span class="op">%T&gt;%</span> 
    <span class="co"># fitted line</span>
    <span class="fu">l_layer_line</span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, 
                 y <span class="op">=</span> <span class="va">pred</span><span class="op">[</span>, <span class="st">"fit"</span><span class="op">]</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, 
                 color <span class="op">=</span> <span class="st">"firebrick"</span>,
                 linewidth <span class="op">=</span> <span class="fl">1.5</span>,
                 index <span class="op">=</span> <span class="st">"end"</span><span class="op">)</span> <span class="op">%T&gt;%</span>
    <span class="co"># confidence interval</span>
    <span class="fu">l_layer_line</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span><span class="op">)</span>, <span class="va">x</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>,
                 y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">pred</span><span class="op">[</span>, <span class="st">"lwr"</span><span class="op">]</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="va">pred</span><span class="op">[</span>, <span class="st">"upr"</span><span class="op">]</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span><span class="op">)</span>, <span class="va">pred</span><span class="op">[</span>, <span class="st">"lwr"</span><span class="op">]</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>,
                 color <span class="op">=</span> <span class="st">"grey50"</span>,
                 linewidth <span class="op">=</span> <span class="fl">2</span>,
                 index <span class="op">=</span> <span class="st">"end"</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu"><a href="../reference/loon.shiny.html">loon.shiny</a></span><span class="op">(</span><span class="va">p</span>, plotRegionWidth <span class="op">=</span> <span class="st">"400px"</span><span class="op">)</span></code></pre></div>
<p><img src="img/introduction/loon_shiny_scatterplot.PNG" width="80%" style="display: block; margin: auto;"></p>
<p>The left panel is a scatterplot which receives mouse can be utilized for direct manipulations. The right panel is an inspector, mainly for indirect manipulations. Compared with the <code>loon</code> one, it is different that is composed of a world view window and six buttons (<code>Plot</code>, <code>Linking</code>, <code>Select</code>, <code>Modify</code>, <code>Layer</code> and <code>Glyph</code>). Each channel will be popped up by pressing the corresponding button. Due to very limited layout space, such design can make the inspector look fresh.</p>
<p><img src="img/introduction/inspector_analysis.PNG" width="30%" style="display: block; margin: auto;"></p>
<ul>
<li>
<p><code>Plot</code> panel:</p>
<ul>
<li><p>Zooming and Panning: In <code>loon</code>, they both are realized by direct manipulation with cooperation of mouse and modifier keys <code>&lt;shift&gt;</code>. While, in <code>shiny</code>, function <code>plotOutput()</code> cannot trace right click and scrolling yet. Hence, we build two slider bars to control <code>x</code> and <code>y</code> limits.</p></li>
<li><p>Axes: channel <code>axes</code> is a central control of non-data elements display, such as turning on/off labels, scales and guides or flipping the horizontal and vertical axes.</p></li>
<li><p>Scale to: channel <code>scale to</code> re-scales the plot interior to some range: range of <code>selected</code> points, range of all points in the <code>plot</code> and range of all plots objects in all layers (<code>world</code>).</p></li>
</ul>
</li>
</ul>
<p><img src="img/introduction/plot_panel.PNG" width="30%" style="display: block; margin: auto;"></p>
<ul>
<li><p><code>Linking</code> panel: since we only have one graph, no linking is required here. We will talk more about this in next section.</p></li>
<li>
<p><code>Select</code> panel: channel <code>select</code> is mainly utilized to modify points selection. There are two main channels, <code>static</code> and <code>dynamic</code>.</p>
<ul>
<li><p>For <code>static</code>, there are three buttons, <code>all</code>, <code>none</code> and <code>invert</code> indicating to select all visible points, deselect all points and invert the current selection status respectively.</p></li>
<li>
<p>For <code>dynamic</code>, it is often used to switch the selection mode.</p>
<ul>
<li><p><code>select</code>: the brushing box is used for highlighting points</p></li>
<li><p><code>deselect</code>: any highlighted points fall into brushing box will be downlighted;</p></li>
<li><p><code>invert</code>: the status of points sweeped by brushing box will be inverted, highlighted to downlighted, downlighted to highlighted.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>There are several noticeable difference here:</p>
<ul>
<li><p>The <code>select</code> panel in <code>loon.shiny</code> does not involve a <code>by</code> channel. In <code>loon</code>, users can select by either <code>brushing</code> or <code>sweeping</code>. However, in <code>shiny</code>, the mode <code>brushing</code> or <code>sweeping</code> is pre-defined in function <code>plotOutput()</code> and there is no way to update it. Once the app is rendered, the select mode is set and cannot be switched.</p></li>
<li><p><code>Loon.shiny</code> has a <code>sticky</code> radio box. It is the same with <code>&lt;shift&gt;</code> key in <code>loon</code> (the usage of <code>&lt;shift&gt;</code> key in loon can be found in <a href="https://great-northern-diver.github.io/loon/articles/introduction.html"><code>loon</code> vignette</a> or <a href="https://www.math.uwaterloo.ca/~rwoldfor/talks/loonTutorial/userSlides/Intro.pdf"><code>loon</code> talk</a>). This is because <code>shiny</code> does not include trace functions to record key press so far.</p></li>
<li><p><code>by color</code> channel is replaced by check box in <code>shiny</code>, since <code>shiny</code> does not include functions to automatically generate new buttons in <code>server</code> function. However, such changes give an unexpected benefit, color names can be detected easily.</p></li>
</ul>
<p><img src="img/introduction/select_panel.PNG" width="30%" style="display: block; margin: auto;"></p>
<ul>
<li>
<p><code>Modify</code> panel: Except the layout, <code>modify</code> panel largely restores the design of the <code>loon</code>.</p>
<ul>
<li><p><code>Color</code>: <code>color</code> buttons are used to modify element colors and the color picker widget provides users more choice.</p></li>
<li><p><code>Activate</code>: <code>activate</code> helps to deactivate or reactivate elements. <code>Deactivate</code> buttons turn selected objects invisible and <code>reactivate</code> buttons reactivate all deactivated points.</p></li>
<li><p><code>Move</code>: <code>Move</code> selected points to common horizontal position, to vertical position, and etc (see <a href="https://www.math.uwaterloo.ca/~rwoldfor/talks/loonTutorial/userSlides/Intro.pdf"><code>loon</code> talk</a> for more details).</p></li>
<li><p><code>Glyph</code>: Change the shape of the points.</p></li>
<li><p><code>Size</code>: Decrease or increase point size.</p></li>
</ul>
</li>
</ul>
<p><img src="img/introduction/modify_panel.PNG" width="30%" style="display: block; margin: auto;"></p>
<ul>
<li>
<code>Layer</code> panel: this panel a simplified version of <a href="https://github.com/great-northern-diver/loon.shiny/blob/master/vignettes/img/introduction/inspector_layer.PNG"><code>loon</code> layer tab</a>. The top select box indicates which layer is under activation and the buttons below are used to, move layer up or down a level, make layer visible or invisible, add layer group (deprecated now), delete layer and scale plot region to layer. The last command is to customize the layer label.</li>
</ul>
<p><img src="img/introduction/layer_panel.PNG" width="30%" style="display: block; margin: auto;"></p>
<ul>
<li>
<code>Glyph</code> panel: it is to modify the appearance of glyphs. Note that different glyphs have very different glyph settings. For example, the settings of serial axes glyphs include whether to show enclosing box, display axes labels and fill the glyph region.</li>
</ul>
<p><img src="img/introduction/glyph_panel.PNG" width="30%" style="display: block; margin: auto;"></p>
</div>
<div id="compound-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#compound-plots" class="anchor"></a>Compound Plots</h2>
<p>Arbitrarily many plots may be created and linked in <code>loon</code>. Package <code>loon.shiny</code> successfully inherits such facility.</p>
<p>Following graph illustrates compound plots. The three graphs are histogram of variable <code>Sepal.Length</code>, scatterplot of <code>Sepal.Width</code> versus <code>Sepal.Length</code> and swapped histogram of variable <code>Sepal.Width</code> (from top to bottom, from left to right). They are colored by species and linked each other.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu">l_plot</span><span class="op">(</span><span class="va">iris</span>, linkingGroup <span class="op">=</span> <span class="st">"iris"</span>, 
             showLabels <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu">l_hist</span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span>, linkingGroup <span class="op">=</span> <span class="st">"iris"</span>,
             showLabels <span class="op">=</span> <span class="cn">FALSE</span>, 
             showStackedColors <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu">l_hist</span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Width</span>, color <span class="op">=</span> <span class="va">iris</span><span class="op">$</span><span class="va">Species</span>, 
             linkingGroup <span class="op">=</span> <span class="st">"iris"</span>, 
             showLabels <span class="op">=</span> <span class="cn">FALSE</span>,  swapAxes <span class="op">=</span> <span class="cn">TRUE</span>, 
             showStackedColors <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="../reference/loon.shiny.html">loon.shiny</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span><span class="op">)</span>, 
           layout_matrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="cn">NA</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
           plotRegionWidth <span class="op">=</span> <span class="st">"400px"</span><span class="op">)</span></code></pre></div>
<p><img src="img/introduction/compound_plot.PNG" width="80%" style="display: block; margin: auto;"></p>
<div id="inspector-activation" class="section level3">
<h3 class="hasAnchor">
<a href="#inspector-activation" class="anchor"></a>Inspector Activation</h3>
<p><code>Loon</code> inspector is a singleton which means there is only one instance of it. Each kind of graphics (scatterplots, graphs, histograms, serial axes plots, etc) has its own specified inspector. The shown one depends on which display receives the last mouse gesture input or window focus event. However, such design in <code>shiny</code> can be very complex. Instead, we build a navigation bar menu. The inspector can be switched by <strong>toggling tabpanel</strong> on the bar menu or the <strong>last mouse gesture (&lt;<code>double click</code>&gt;) input</strong>.</p>
</div>
<div id="linking" class="section level3">
<h3 class="hasAnchor">
<a href="#linking" class="anchor"></a>Linking</h3>
<p>If we brush on any of these plots, the corresponding elements on the rest will be highlighted instantaneously. Linking status can be checked via <code>linking</code> panel.</p>
<p><img src="img/introduction/linking_panel.PNG" width="30%" style="display: block; margin: auto;"></p>
<ul>
<li><p>The principal feature of <code>loon</code> plots which effect the linking of displays is the setting of a common <code>linkingGroup</code>. <code>LinkingGroup</code> is used to identify which group this plot joins. If it is set as “none”, then this plot will <strong>not</strong> be linked with any of them.</p></li>
<li><p><code>LinkingStates</code> are states to be linked in the same <code>linkingGroup</code>. Unlike <code>loon</code>, programming is forbidden once the app is rendered. Thus, we list all the states can be modified in the <code>linking</code> panel. All elements in these three pictures share the same selected/checked states. Suppose one un-checks the <code>selected</code> check box in scatterplot <code>linking</code> panel, and then brushes the points on scatterplot, the corresponding elements in other two histograms will not be highlighted anymore.</p></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Zehao Xu, R. Wayne Oldford.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
