<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Automatically Create a Shiny App Based on Interactive Loon Widgets • loon.shiny</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Automatically Create a Shiny App Based on Interactive Loon Widgets">
<meta property="og:description" content="Package shiny provides interactive web applications in R. Package loon is an interactive toolkit engaged in open-ended, creative and unscripted data exploration. The loon.shiny package can take loon widgets and display a selfsame shiny app. ">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">loon.shiny</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/introduction.html">Introduction to loon.shiny</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="loonshiny-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#loonshiny-" class="anchor"></a>loon.shiny <img src="reference/figures/logo.png" align="right" width="120">
</h1></div>

<div id="display-loon-widgets-in-shiny-app" class="section level2">
<h2 class="hasAnchor">
<a href="#display-loon-widgets-in-shiny-app" class="anchor"></a>Display loon widgets in shiny app</h2>
<p>The <a href="https://shiny.rstudio.com/"><code>shiny</code></a> <code>R</code> package simplifies the creation of interactive analysis web pages. <code>Shiny</code> apps facilitate sharing data analyses while simultaneously allowing, even encouraging, some interactive exploration by the viewer. An example would be the shiny app that allows viewers to explore interesting features of U.S. Secretary of State Clinton’s emails at <a href="https://shiny.math.uwaterloo.ca/sas/clinton/">https://shiny.math.uwaterloo.ca/sas/clinton/</a>. Such <em>curated</em> interaction is immensely important for both sharing analytic results and encouraging exploration.</p>
<p>In contrast, the <a href="https://great-northern-diver.github.io/loon/"><code>loon</code></a> <code>R</code> package provides an interactive visualization toolkit for unconstrained, unscripted, and open-ended data exploration. It is intended for data analysts themselves.</p>
<p>The <a href="http://great-northern-diver.github.io/loon.shiny/"><code>loon.shiny</code></a> <code>R</code> package enables <code>loon</code> plots and <code>loon</code> style interaction (e.g., brushing, linked plots, panning, zooming, etc., as well as a <code>shiny</code> version of <code>loon</code> inspectors) to be incorporated into a <code>shiny</code> application (including an <code>RMarkdown</code> file). The <code>loon</code> widgets are rendered into an html file by <code>Rmarkdown</code> so that analysts who explore data in <code>loon</code> now can present their interactive graphics in <code>Rmarkdown</code>. Other users can then explore the data online using the rich set of visual interactions available in <code>loon</code> as provided by the creator of the curated analysis.</p>
<p>A single function, <code><a href="reference/loon.shiny.html">loon.shiny()</a></code>, does the work.</p>
<hr>
</div>
<div id="1-basic-shiny-app" class="section level2">
<h2 class="hasAnchor">
<a href="#1-basic-shiny-app" class="anchor"></a>1. Basic <code>shiny</code> app</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">loon.shiny</span><span class="op">)</span>
<span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu">l_plot</span><span class="op">(</span><span class="va">hp</span>, <span class="va">mpg</span>, color <span class="op">=</span> <span class="va">cyl</span>, size <span class="op">=</span> <span class="va">wt</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="reference/loon.shiny.html">loon.shiny</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></code></pre></div>
<p>produces a web based shiny app containing the <code>loon</code> plot <code>p</code> together with its <code>loon</code> inspector:</p>
<p><img src="reference/figures/loonShiny.gif"></p>
</div>
<div id="2-several-linked-plots-in-a-shiny-app" class="section level2">
<h2 class="hasAnchor">
<a href="#2-several-linked-plots-in-a-shiny-app" class="anchor"></a>2. Several linked plots in a <code>shiny</code> app</h2>
<p>Here we show three plots appearing as the output of knitting an <code>RMarkdown</code> file. This is the more typical case.</p>
<p><img src="reference/figures/shinyDemo.gif"></p>
<p>The code for the three plot shiny app on its own would be (as shown above):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu">l_plot</span><span class="op">(</span><span class="va">iris</span>, linkingGroup <span class="op">=</span> <span class="st">"iris"</span>,
             showLabels <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu">l_hist</span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span>, linkingGroup <span class="op">=</span> <span class="st">"iris"</span>,
             showLabels <span class="op">=</span> <span class="cn">FALSE</span>, showStackedColors <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu">l_hist</span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span>, linkingGroup <span class="op">=</span> <span class="st">"iris"</span>,
             showLabels <span class="op">=</span> <span class="cn">FALSE</span>, swapAxes <span class="op">=</span> <span class="cn">TRUE</span>,
             showStackedColors <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="reference/loon.shiny.html">loon.shiny</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span><span class="op">)</span>,
           layout_matrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="cn">NA</span>, <span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
           plot_width <span class="op">=</span> <span class="st">"400px"</span><span class="op">)</span></code></pre></div>
<p>Note that the plots are linked and the inspector is shared by/addresses all three plots (see tabs on the inspector).</p>
</div>
<div id="3-start-with-ggplot--loon--shiny" class="section level2">
<h2 class="hasAnchor">
<a href="#3-start-with-ggplot--loon--shiny" class="anchor"></a>3. Start with ggplot –&gt; loon –&gt; shiny</h2>
<p>Some users may prefer to begin with a <code>ggplot</code> and construct their plots using the <strong>grammar of interactive graphics</strong> provided by <a href="https://great-northern-diver.github.io/loon.ggplot/">loon.ggplot</a>. A simple example follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">loon.ggplot</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">mtcars</span>, mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">wt</span>, y <span class="op">=</span> <span class="va">hp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
       <span class="fu">geom_point</span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">gear</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
       <span class="fu">geom_smooth</span><span class="op">(</span><span class="op">)</span>

<span class="fu"><a href="reference/loon.shiny.html">loon.shiny</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/loon.ggplot/man/loon.ggplot.html">loon.ggplot</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>,
           left <span class="op">=</span> <span class="fl">20</span>,
           right <span class="op">=</span> <span class="st">"auto"</span><span class="op">)</span></code></pre></div>
<p>which results in</p>
<p><img src="reference/figures/ggplotLoonShiny.PNG"></p>
<p>Compared to <code>ggplot</code> to <code>shiny</code>, <code>ggplot</code> –&gt; <code>loon</code> –&gt; <code>shiny</code> extends the app to give more interactivity to the user. Users can now direct manipulate plots, such as highlighting points, changing colours and sizes, modifying layer orders, and more.</p>
<p>With several plots, linking allows brushing across several plots.</p>
<hr>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># From CRAN</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"loon.shiny"</span><span class="op">)</span>
<span class="co"># Or from github</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"great-northern-diver/loon.shiny"</span><span class="op">)</span>
<span class="co"># Or as part of the diveR suite of loon related packages</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"diveR"</span><span class="op">)</span></code></pre></div>
</div>
<div id="rmarkdown" class="section level2">
<h2 class="hasAnchor">
<a href="#rmarkdown" class="anchor"></a>Rmarkdown</h2>
<p>An R Markdown file containing Shiny widgets and outputs is an interactive document. To make an R Markdown document interactive in two steps:</p>
<ul>
<li>
<p>add <code>runtime: shiny</code> to the document’s YAML header. For example,</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>title<span class="sc">:</span> <span class="st">"My Title"</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>author<span class="sc">:</span> <span class="st">"Me"</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>date<span class="sc">:</span> <span class="st">"15/05/2021"</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>output<span class="sc">:</span> html_document</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>runtime<span class="sc">:</span> shiny</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span></code></pre></div>
</li>
<li><p>add Shiny widgets and Shiny render functions to the file’s R code chunks. Note that, in a single R markdown file, more than one apps can be added.</p></li>
</ul>
<div id="to-report-issues" class="section level3">
<h3 class="hasAnchor">
<a href="#to-report-issues" class="anchor"></a>To report issues</h3>
<p><a href="https://github.com/great-northern-diver/loon.shiny/issues">https://github.com/great-northern-diver/loon.shiny/issues</a></p>
<hr>
</div>
</div>
<div id="the-diver-suite" class="section level2">
<h2 class="hasAnchor">
<a href="#the-diver-suite" class="anchor"></a>The <code>diveR</code> suite</h2>
<p><code>loon</code>, <code>loon.shiny</code>, and <code>loon.ggplot</code> are all part of the <code>diver</code> suite of packages (<a href="https://great-northern-diver.github.io/diveR/">https://great-northern-diver.github.io/diveR/</a>), the <code>looniverse</code> for <strong>d</strong>irect <strong>i</strong>nteractive <strong>v</strong>isual <strong>e</strong>xploration in <strong><code>R</code></strong>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=loon.shiny">https://​cloud.r-project.org/​package=loon.shiny</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Zehao Xu <br><small class="roles"> Author, maintainer </small>  </li>
<li>R. Wayne Oldford <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/great-northern-diver/loon.shiny"><img src="https://travis-ci.org/great-northern-diver/loon.shiny.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://cran.r-project.org/package=loon.shiny"><img src="http://www.r-pkg.org/badges/version/loon.shiny" alt="CRAN_Status_Badge"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Zehao Xu, R. Wayne Oldford.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
